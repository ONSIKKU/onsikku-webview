{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"로컬 서버"},{"url":"https://api.onsikku.xyz","description":"메인 서버"}],"security":[{"Bearer Token":[]}],"tags":[{"name":"댓글 API","description":"댓글 CRUD API"},{"name":"질문 API","description":"질문 관련 API"},{"name":"알림 API","description":"FCM 토큰 관리 및 알림 내역 관련 기능을 제공합니다."},{"name":"인증 API","description":"인증 관련 API"},{"name":"회원 API","description":"마이페이지 등 회원 관련 API"},{"name":"답변 API","description":"질문에 대한 답변 생성, 수정 API"},{"name":"반응 API","description":"답변에 대한 반응 API"}],"paths":{"/api/reactions":{"post":{"tags":["반응 API"],"summary":"리액션 생성","description":"답변에 대해 리액션을 남깁니다. (ReactionType : LIKE, ANGRY, SAD, FUNNY)\n## 인증(JWT): **필요**\n## 참고사항\n- 본인 가족의 답변에만 리액션을 남길 수 있습니다.\n- 한 답변에 대해 중복된 리액션을 남길 수 없습니다.\n","operationId":"createReaction","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReactionRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseVoid"}}}}}}},"/api/questions/answers":{"post":{"tags":["답변 API"],"summary":"답변 생성","description":"질문에 대한 답변을 생성합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 요청 본문에 질문 ID와 답변 내용을 포함해야 합니다.\n- AnswerType 은 String ENUM 타입입니다 : TEXT, IMAGE, AUDIO, VIDEO, FILE, MIXED\n- JsonNode content 예시:\n  {\n    \"text\": \"이것은 텍스트 답변입니다.\",\n    \"images\": [\n      \"https://example.com/image1.jpg\",\n      \"https://example.com/image2.jpg\"\n    ]\n  }\n","operationId":"createAnswer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnswerRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseAnswerResponse"}}}}}},"patch":{"tags":["답변 API"],"summary":"답변 수정","description":"기존 답변을 수정합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 요청 본문에 질문 ID, 답변 ID, 수정된 내용을 포함해야 합니다.\n- 내용 변경만 가능합니다.\n","operationId":"updateAnswer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnswerRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseAnswerResponse"}}}}}}},"/api/notifications/tokens":{"post":{"tags":["알림 API"],"summary":"알림 설정 등록 (FCM 토큰 등록/갱신)","description":"    로그인한 사용자의 기기 FCM 토큰을 저장하거나 최신화합니다.\n    회원의 알림 설정을 true로 갱신합니다.\n\n    ## 반환값\n    - 성공 시 상태코드 204 (No Content)와 빈 응답 본문\n\n    ## 유의사항\n    - 사용자마다 DeviceType 별로 FCM 토큰 1개씩 저장가능합니다 (iOS, Android, Web)\n    - FCM 토큰 자동 만료는 없으며, 갱신 시 새롭게 요청하면 됩니다.\n","operationId":"saveFcmToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FcmTokenRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK"}}},"delete":{"tags":["알림 API"],"summary":"알림 설정 해제 (FCM 토큰 삭제)","description":"   로그인한 사용자의 기기 FCM 토큰을 삭제함으로써, 알림 설정을 해제합니다.\n   회원의 알림 설정을 false로 갱신합니다.\n\n   ## 반환값\n   - 성공 시 상태코드 204 (No Content)와 빈 응답 본문\n\n   ## 에러코드\n   - **`INVALID_FCM_TOKEN`**: 유효하지 않은 FCM 토큰입니다.\n","operationId":"deleteFcmToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FcmTokenRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK"}}}},"/api/members/logout":{"post":{"tags":["회원 API"],"summary":"로그아웃","description":"로그아웃을 수행합니다.\nAccess Token의 사용자 정보를 기반으로, Refresh Token을 삭제합니다.\n현재 Access Token을 블랙리스트에 추가하여 즉시 무효화합니다.\n## 인증(JWT): **필요**\n","operationId":"logout","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseString"}}}}}}},"/api/members/delete":{"post":{"tags":["회원 API"],"summary":"회원 탈퇴","description":"회원 탈퇴를 진행합니다.\n회원이 생성한 답변, 질문 할당, 댓글 및 회원 데이터를 삭제합니다.\n탈퇴 후 해당 회원의 Refresh Token을 삭제하고, Access Token을 블랙리스트에 추가하여 즉시 무효화합니다.\n## 인증(JWT): **필요**\n","operationId":"deleteMember","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseVoid"}}}}}}},"/api/comments":{"post":{"tags":["댓글 API"],"summary":"댓글 생성","description":"질문에 대한 댓글을 생성합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 답변이 달렸을 경우만 댓글을 작성할 수 있습니다.\n- 대댓글이 아닐 시, parentCommentId 필드를 제외하고 전송해야 합니다.\n- 대댓글은 1단계까지만 허용됩니다. (대댓글의 대댓글 작성 불가)\n","operationId":"createComment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseCommentResponse"}}}}}},"patch":{"tags":["댓글 API"],"summary":"댓글 수정","description":"댓글을 수정합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 댓글 작성자만 해당 댓글을 수정할 수 있습니다.\n","operationId":"updateComment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseCommentResponse"}}}}}}},"/api/auth/signup":{"post":{"tags":["인증 API"],"summary":"회원가입","description":"registrationToken을 통해 회원가입을 수행합니다.\n## 인증(JWT): **불필요**\n## 참고사항\n- `registrationToken`은 소셜 로그인 시 반환된 회원가입 토큰입니다.\n- 회원가입 후, JWT 토큰을 포함한 `AuthResponse`를 반환합니다.\n","operationId":"signup","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SocialSignupRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseAuthResponse"}}}}}}},"/api/auth/refresh":{"post":{"tags":["인증 API"],"summary":"JWT 토큰 재발급","description":"refreshToken을 통해 JWT 토큰을 재발급합니다.\n## 인증(JWT): **불필요**\n\n## 참고사항\n- refreshToken은 accessToken 대신 사용할 수 없습니다.\n- accessToken은 refreshToken 대신 사용할 수 없습니다.\n- 재발급 후에, refreshToken은 블랙리스트 처리되어 재사용이 불가능합니다.\n","operationId":"refresh","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRefreshRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseAuthResponse"}}}}}}},"/api/auth/apple":{"post":{"tags":["인증 API"],"summary":"애플 로그인 (iOS Native)","description":"**iOS 앱 내장 로그인 방식입니다.**\nClient가 Apple SDK로 받은 `identityToken`을 전송합니다.\n서버는 토큰을 검증하고, **티켓(ticket)**이 담긴 AuthResponse를 반환합니다.\n","operationId":"appleLogin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppleLoginRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseAuthResponse"}}}}}}},"/api/notifications/{notificationHistoryId}/confirm":{"patch":{"tags":["알림 API"],"summary":"특정 알림 확인 처리","description":"특정 알림을 클릭했을 때 호출합니다. (읽음+확인 처리)","operationId":"markAsRead","parameters":[{"name":"notificationHistoryId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK"}}}},"/api/notifications/read-all":{"patch":{"tags":["알림 API"],"summary":"모든 알림 읽음 처리","description":"알림 목록 진입 시 호출하여, 사용자의 모든 미확인 알림을 읽음 상태로 일괄 변경합니다.","operationId":"markAllAsRead","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK"}}}},"/api/members/mypage":{"get":{"tags":["회원 API"],"summary":"마이페이지 조회","description":"회원 마이페이지 정보를 조회합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 가족에 속한 회원의 정보(닉네임, 역할, 프로필 이미지 등)와 함께 본인 정보를 반환합니다.\n","operationId":"getMyPage","responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseMypageResponse"}}}}}},"patch":{"tags":["회원 API"],"summary":"마이페이지 수정 (부분 업데이트 지원, 알림 설정 불가)","description":"회원 마이페이지 정보를 수정합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- PATCH 메서드를 사용하며, JSON에서 원하는 필드만 포함하면 해당 필드만 수정됩니다.\n- 예: { \"profileImageUrl\": \"https://example.com/new.jpg\" }\n- 가족 초대 가능 필드를 false로 변경 시, 기존의 가족 초대 코드는 삭제됩니다.\n- 가족 초대 가능 필드를 true로 변경 시, 새로운 가족 초대 코드가 생성됩니다.\n- 가족 초대 가능 필드를 true -> false, false -> true로 변경될때만 적용됩니다.\n","operationId":"updateMyPage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MypageRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseMypageResponse"}}}}}}},"/api/questions":{"get":{"tags":["질문 API"],"summary":"오늘의 질문 조회","description":"특정 가족의 오늘의 질문을 조회합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 가장 최신 질문을 조회합니다.\n- 가족 전체 정보와, questionDetails가 반환됩니다.\n- QuestionStatus enums : PENDING, SENT, READ, ANSWERED, EXPIRED, FAILED\n","operationId":"getTodayQuestion","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseQuestionResponse"}}}}}}},"/api/questions/{memberQuestionId}":{"get":{"tags":["질문 API"],"summary":"질문 상세 조회","description":"특정 질문 인스턴스의 상세 정보를 조회합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- memberQuestionId 경로 변수로 특정 질문 인스턴스를 조회합니다.\n- 반환은 questionDetails 객체로 이루어집니다.\n","operationId":"getQuestionInstanceDetails","parameters":[{"name":"memberQuestionId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseQuestionResponse"}}}}}}},"/api/questions/test/generate":{"get":{"tags":["질문 API"],"summary":"테스트용 질문 생성","description":"질문을 생성합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 테스트용으로만 사용됩니다.\n- 테스트용 질문 생성은 매일 새벽에 진행되는 질문 생성 로직과 달리, 질문을 즉시 할당합니다.\n- 즉, 기존에는 밤 10시 이전에 오늘의 질문을 조회할 수 없었지만, 이 API를 호출하면 질문을 즉시 조회할 수 있습니다.\n","operationId":"getTestQuestionGeneratation","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseString"}}}}}}},"/api/questions/test/delete":{"get":{"tags":["질문 API"],"summary":"테스트용 질문 삭제 (답변, 댓글 포함)","description":"특정 질문을 삭제합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 테스트용으로만 사용됩니다.\n- 특정 가족의 모든 질문 인스턴스, 할당, 답변, 댓글이 사라집니다.\n","operationId":"deleteFamilyData","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseString"}}}}}}},"/api/questions/monthly":{"get":{"tags":["질문 API"],"summary":"월별 질문 조회","description":"특정 가족의 특정 년도, 월의 질문들을 조회합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- year, month 쿼리 파라미터로 해당 월의 질문들을 조회합니다.\n- 현재 성능 이슈로 답변 등의 정보는 제외하고, questionDetails 리스트와 count류 필드들(전체 질문 개수 등)만 반환합니다.\n- 없다면 빈 목록을 반환합니다.\n","operationId":"getQuestionsByMonthAndYear","parameters":[{"name":"year","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"month","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseQuestionResponse"}}}}}}},"/api/notifications":{"get":{"tags":["알림 API"],"summary":"알림 내역 목록 조회","description":"로그인한 사용자의 전체 알림 내역을 조회합니다.\npage 요청을 지원합니다. (?page=1&size=10)\nSlice 기반 응답을 반환합니다. (totalPages는 미존재, hasNext: true 존재)\n","operationId":"getNotificationHistorySlice","parameters":[{"name":"page","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"size","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/NotificationHistoryResponse"}}}}}}},"/api/notifications/count/unread":{"get":{"tags":["알림 API"],"summary":"읽지 않은 알림 개수 조회","description":"아직 읽지 않은 알림의 총 개수를 반환합니다.","operationId":"getUnReadNotificationCount","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/NotificationHistoryResponse"}}}}}}},"/api/auth/kakao/redirect":{"get":{"tags":["인증 API"],"summary":"카카오 로그인 (티켓 발급)","description":"**리다이렉트용 입니다.**\ncode를 통해 카카오 로그인을 수행합니다.\n이후 임시 티켓을 발급하여, 리다이렉트합니다.\n## 인증(JWT): **불필요**\n","operationId":"kakaoLogin","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK"}}}},"/api/auth/exchange":{"get":{"tags":["인증 API"],"summary":"티켓 교환 (공통)","description":"카카오/애플 로그인 후 발급받은 티켓을 확인하고, 저장된 유저의 AuthResponse를 반환합니다.\n## 인증(JWT): **불필요**\n## 참고사항\n- 회원가입이 되어 있지 않은 경우, registrationToken을 반환합니다.\n- 회원가입이 되어 있는 경우, JWT 토큰을 포함한 `KakaoLoginResponse`를 반환합니다.\n","operationId":"exchangeTicket","parameters":[{"name":"ticket","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseAuthResponse"}}}}}}},"/api/reactions/{answerId}":{"delete":{"tags":["반응 API"],"summary":"리액션 삭제","description":"남긴 리액션을 삭제합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 본인이 작성한 리액션만 삭제할 수 있습니다.\n- answerId를 받고, 해당 답변에 본인이 남긴 리액션이 삭제됩니다.\n","operationId":"deleteReaction","parameters":[{"name":"answerId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BaseResponseVoid"}}}}}}},"/api/questions/test/answers":{"delete":{"tags":["답변 API"],"summary":"테스트용 답변 삭제","description":"기존 답변을 삭제합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 테스트용입니다.\n- 답변 ID, 할당 ID를 요청 본문에 포함해야 합니다.\n","operationId":"deleteAnswer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnswerRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseString"}}}}}}},"/api/notifications/{notificationHistoryId}":{"delete":{"tags":["알림 API"],"summary":"특정 알림 삭제","description":"알림 내역에서 특정 알림 하나를 삭제합니다. 본인 알림만 지울 수 있습니다.","operationId":"deleteNotification","parameters":[{"name":"notificationHistoryId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK"}}}},"/api/notifications/all":{"delete":{"tags":["알림 API"],"summary":"전체 알림 삭제","description":"사용자의 모든 알림 내역을 삭제합니다.","operationId":"deleteAllNotifications","responses":{"500":{"description":"Internal Server Error","content":{"_/_":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK"}}}},"/api/comments/{commentId}":{"delete":{"tags":["댓글 API"],"summary":"댓글 삭제","description":"댓글을 삭제합니다.\n## 인증(JWT): **필요**\n## 참고사항\n- 댓글 작성자만 해당 댓글을 삭제할 수 있습니다.\n- 댓글 삭제 시, 모든 자식 댓글들은 부모를 잃게 됩니다.\n","operationId":"deleteComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"_/_":{"schema":{"$ref":"#/components/schemas/BaseResponseVoid"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"baseResponseStatus":{"type":"string","enum":["SUCCESS","SERIALIZATION_ERROR","INVALID_JSON_VALUE","KAKAO_INVALID_GRANT","KAKAO_REDIRECT_URI_MISMATCH","INVALID_SOCIAL_TYPE","APPLE_SOCIAL_LOGIN_FAILED","INVALID_TICKET","FAIL_TOKEN_AUTHORIZATION","INVALID_TOKEN_TYPE","MISSING_AUTH_TOKEN","INVALID_TOKEN","EXPIRED_TOKEN","INVALID_REFRESH_TOKEN","EXPIRED_REFRESH_TOKEN","REFRESH_TOKEN_NOT_FOUND","TOKEN_BLACKLISTED","INVALID_REGISTRATION_TOKEN","INVALID_FAMILY_INVITATION_CODE","INVALID_FAMILY_MODE","ALREADY_REGISTERED","MEMBER_NOT_FOUND","INVITATION_CODE_GENERATION_FAILED","INVALID_GENERATED_INVITATION_CODE","FAMILY_NOT_FOUND","INVALID_FAMILY_MEMBER","ACCESS_DENIED_FOR_RESOURCE","INVALID_ANSWER","ANSWER_NOT_FOUND","MEMBER_QUESTION_NOT_FOUND","ALREADY_ANSWERED_QUESTION","COMMENT_NOT_FOUND","INVALID_PARENT_COMMENT","CANNOT_NESTED_COMMENT","REACTION_NOT_FOUND","REACTION_ALREADY_EXISTS","NOTIFICATION_SEND_FAILURE","NOTIFICATION_HISTORY_NOT_FOUND","INVALID_NOTIFICATION_HISTORY_OWNER","FCM_TOKEN_NOT_FOUND","INVALID_FCM_TOKEN","AI_SERVER_VALIDATION_ERROR","AI_SERVER_COMMUNICATION_ERROR","REDIS_OPERATION_FAILED","INTERNAL_SERVER_ERROR"]},"code":{"type":"integer","format":"int32"},"errorMessage":{"type":"string"}}},"ReactionRequest":{"type":"object","properties":{"answerId":{"type":"string","format":"uuid"},"type":{"type":"string","enum":["LIKE","ANGRY","SAD","FUNNY"]}},"required":["answerId","type"]},"BaseResponseVoid":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"object"}}},"AnswerRequest":{"type":"object","properties":{"answerId":{"type":"string","format":"uuid"},"memberQuestionId":{"type":"string","format":"uuid"},"answerType":{"type":"string","enum":["TEXT","IMAGE","AUDIO","VIDEO","FILE","MIXED"]},"content":{"$ref":"#/components/schemas/JsonNode"},"reactionType":{"type":"string","enum":["LIKE","ANGRY","SAD","FUNNY"]}}},"JsonNode":{"type":"object"},"AnswerResponse":{"type":"object","properties":{"memberId":{"type":"string","format":"uuid"},"familyRole":{"type":"string","enum":["MOTHER","FATHER","DAUGHTER","SON","GRANDMOTHER","GRANDFATHER"]},"nickname":{"type":"string"},"content":{"$ref":"#/components/schemas/JsonNode"},"answerId":{"type":"string","format":"uuid"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"BaseResponseAnswerResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/AnswerResponse"}}},"FcmTokenRequest":{"type":"object","properties":{"fcmToken":{"type":"string","description":"FCM 토큰"},"deviceType":{"type":"string","description":"ANDROID, IOS, ETC","enum":["ANDROID","IOS","ETC"]}},"required":["fcmToken"]},"BaseResponseString":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"string"}}},"CommentRequest":{"type":"object","properties":{"answerId":{"type":"string","format":"uuid"},"commentId":{"type":"string","format":"uuid"},"parentCommentId":{"type":"string","format":"uuid"},"content":{"type":"string"}},"required":["content"]},"BaseResponseCommentResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/CommentResponse"}}},"Comment":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"member":{"$ref":"#/components/schemas/Member"},"parentComment":{"$ref":"#/components/schemas/Comment"},"content":{"type":"string"},"deletedAt":{"type":"string","format":"date-time"}}},"CommentResponse":{"type":"object","properties":{"comment":{"$ref":"#/components/schemas/Comment"}}},"Member":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"birthDate":{"type":"string","format":"date"},"familyRole":{"type":"string","enum":["MOTHER","FATHER","DAUGHTER","SON","GRANDMOTHER","GRANDFATHER"]},"nickname":{"type":"string"},"profileImageUrl":{"type":"string"},"alarmEnabled":{"type":"boolean"}}},"SocialSignupRequest":{"type":"object","description":"소셜 회원가입 요청 DTO","properties":{"registrationToken":{"type":"string","description":"회원가입 인증 토큰","example":"asbsdvd-9515-4661-a26e-990e411e7104"},"familyRole":{"type":"string","description":"가족 내 역할 ENUM (MOTHER, FATHER, DAUGHTER, SON, GRANDMOTHER, GRANDFATHER)","enum":["MOTHER","FATHER","DAUGHTER","SON","GRANDMOTHER","GRANDFATHER"],"example":"SON"},"nickname":{"type":"string","description":"가족에게 불릴 별명","example":"귀염둥이 막내"},"birthDate":{"type":"string","format":"date","description":"생년월일","example":"2000-01-01"},"profileImageUrl":{"type":"string","description":"프로필 이미지 URL","example":"https://example.com/profile.jpg"},"familyMode":{"type":"string","description":"가족 모드 (CREATE 또는 JOIN)","enum":["CREATE","JOIN"],"example":"CREATE"},"familyName":{"type":"string","description":"가족 이름(가족 모드 JOIN 시 필수)","example":"홍길동 가족"},"familyInvitationCode":{"type":"string","description":"가족 초대 코드 (대문자 영문 및 숫자 8자, 가족 모드 JOIN 시 필수)","example":"I12D34O2"}}},"AuthResponse":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"registrationToken":{"type":"string"},"ticket":{"type":"string"},"registered":{"type":"boolean"},"isRegistered":{"type":"boolean"}}},"BaseResponseAuthResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/AuthResponse"}}},"TokenRefreshRequest":{"type":"object","properties":{"refreshToken":{"type":"string"}}},"AppleLoginRequest":{"type":"object","properties":{"identityToken":{"type":"string","description":"Apple 에서 받은 identityToken","example":"eyJraWQiOiJ..."}}},"JsonNullableBoolean":{"type":"object","properties":{"present":{"type":"boolean"}}},"JsonNullableFamilyRole":{"type":"object","properties":{"present":{"type":"boolean"}}},"JsonNullableLocalDate":{"type":"object","properties":{"present":{"type":"boolean"}}},"JsonNullableString":{"type":"object","properties":{"present":{"type":"boolean"}}},"MypageRequest":{"type":"object","properties":{"nickname":{"$ref":"#/components/schemas/JsonNullableString","description":"가족에게 불릴 별명","example":"귀염둥이 막내"},"profileImageUrl":{"$ref":"#/components/schemas/JsonNullableString","description":"프로필 이미지 URL","example":"https://example.com/profile.jpg"},"familyRole":{"$ref":"#/components/schemas/JsonNullableFamilyRole","description":"가족 내 역할 ENUM (MOTHER, FATHER, DAUGHTER, SON, GRANDMOTHER, GRANDFATHER)","example":"SON"},"birthDate":{"$ref":"#/components/schemas/JsonNullableLocalDate","description":"생년월일 (yyyy-MM-dd 형식)","example":"2000-05-15"},"isFamilyInviteEnabled":{"$ref":"#/components/schemas/JsonNullableBoolean","description":"가족 초대 가능 여부 (true면 새 코드 발급, false면 코드 삭제)","example":true}}},"BaseResponseMypageResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/MypageResponse"}}},"Family":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"familyName":{"type":"string"},"invitationCode":{"type":"string"},"lastAiQuestionDate":{"type":"string","format":"date-time"},"familyInviteEnabled":{"type":"boolean"}}},"MypageResponse":{"type":"object","properties":{"member":{"$ref":"#/components/schemas/Member"},"family":{"$ref":"#/components/schemas/Family"},"familyMembers":{"type":"array","items":{"$ref":"#/components/schemas/Member"}}}},"Answer":{"type":"object","properties":{"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"member":{"$ref":"#/components/schemas/Member"},"answerType":{"type":"string","enum":["TEXT","IMAGE","AUDIO","VIDEO","FILE","MIXED"]},"content":{"$ref":"#/components/schemas/JsonNode"}}},"BaseResponseQuestionResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/QuestionResponse"}}},"QuestionDetails":{"type":"object","properties":{"memberQuestionId":{"type":"string","format":"uuid"},"content":{"type":"string"},"questionStatus":{"type":"string","enum":["PENDING","SENT","READ","ANSWERED","EXPIRED","FAILED"]},"sentDate":{"type":"string","format":"date"},"member":{"$ref":"#/components/schemas/Member"},"answer":{"$ref":"#/components/schemas/Answer"},"comments":{"type":"array","items":{"$ref":"#/components/schemas/Comment"}},"myReaction":{"type":"string","enum":["LIKE","ANGRY","SAD","FUNNY"]},"likeCount":{"type":"integer","format":"int64"},"angryCount":{"type":"integer","format":"int64"},"sadCount":{"type":"integer","format":"int64"},"funnyCount":{"type":"integer","format":"int64"}}},"QuestionResponse":{"type":"object","properties":{"questionDetailsList":{"type":"array","items":{"$ref":"#/components/schemas/QuestionDetails"}},"questionDetails":{"$ref":"#/components/schemas/QuestionDetails"},"totalQuestionCount":{"type":"integer","format":"int32"},"answeredQuestionCount":{"type":"integer","format":"int32"},"totalReactionCount":{"type":"integer","format":"int32"},"familyMembers":{"type":"array","items":{"$ref":"#/components/schemas/Member"}}}},"NotificationHistory":{"type":"object","properties":{"notificationHistoryId":{"type":"string","format":"uuid"},"member":{"$ref":"#/components/schemas/Member"},"notificationType":{"type":"string","enum":["TODAY_TARGET_MEMBER","TODAY_TARGET_MEMBER_ANNOUNCED","ANSWER_ADDED","KNOCK_KNOCK","REACTION_ADDED","COMMENT_ADDED","MEMBER_JOINED","WEEKLY_REPORT","SYSTEM_NOTICE"]},"title":{"type":"string"},"body":{"type":"string"},"payload":{"type":"object","additionalProperties":{"type":"string"}},"deepLink":{"type":"string"},"readAt":{"type":"string","format":"date-time"},"confirmedAt":{"type":"string","format":"date-time"},"publishedAt":{"type":"string","format":"date-time"}}},"NotificationHistoryResponse":{"type":"object","properties":{"notificationHistorySlice":{"$ref":"#/components/schemas/SliceNotificationHistory"},"unReadCount":{"type":"integer","format":"int64"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"}}},"SliceNotificationHistory":{"type":"object","properties":{"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/NotificationHistory"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}}},"securitySchemes":{"Bearer Token":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}
